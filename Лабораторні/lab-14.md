# 14. Робота з файлами за допомогою засобів FSTREAM

[Перелік усіх робіт](README.md)

## Мета роботи 

Навчитися створювати та оброблювати файли за допомогою бібліотеки FSTREAM

## Обладнання

Персональний комп’ютер, Visual Studio 2008 або інша середа розробки для мови C++


## Теоретичні відомості

Для роботи з файловою системою існує заголовочний файл `<fstream>`. 
У `<fstream>` визначено кілька класів і підключено заголовні файли `<ifstream>` - файлове введення і `<ofstream>` - файлове виведення.

Нижче наведені найчастіші операції:

* Оператори перенаправлення введення/виводу - `<<` і `>>`
* Методи запису та читання рядків `getline()` та `get()` c `put()`
* Потоковий запис та читання методами `write()` та `read()`
* Методи відкриття\створення та закриття файлів `open()` та `close()`
* Методи перевірки чи відкрито файл `is_open()` і чи кінець файлу досягнуто `eof()`

### Зчитування з файлу за допомогою класу `<ifstream>`

    
Цей клас надає можливості читання файлів. Відкрити файл можна двома способами: викликавши метод `open()` або вказавши шлях до нього у конструкторі.

Приклад відкриття файлу за допомогою метода `open()`:
```cpp
#include <iostream>
#include <fstream> // підключаємо бібліотеку
using namespace std;

int main()
{
ifstream file; // створюємо об'єкт класу ifstream
file.open("d:\\1\\файл.txt"); // Відкриваємо файл

file.close() //закриваємо файл
}
```
Приклад відкриття файлу за допомогою вказання шляху до нього у конструкторі:
```cpp
#include <iostream>
#include <fstream> // підключаємо бібліотеку
using namespace std;

int main()
{
ifstream file ("d:1\файл.txt"); // відкриваємо файл у конструкторі

file.close() //закриваємо файл
}

```
Зчитування з файлу в основному відбувається за допомогою методу `getline()` та оператора зчитування `>>`.

#### Оператор зчитування `>>`

Даний оператор вказує, в яку змінну відбудеться зчитування. Зчитує ціле та рядок. Зчитування рядка закінчиться, якщо з'явиться пробіл або кінець рядка.
Наприклад:
```cpp
int i;
string s;
file >> i >> s;
```

Зчитування слів з файлу:

```cpp
for(file >> s; !file.eof(); file >> s) 
    cout << s << endl;
```

#### Метод `getline()`

Метод  `getline(файл, кількість_символів)` зчитує певну кількість символів з файлу.

Наприклад:

```cpp
#include <iostream>
#include <fstream>
using namespace std;
int main() {
// тут зберігатиметься проміжний текст,
// який ми будемо зчитувати з файлу
char arr [100];

// Зчитуємо певну кількість символів – 100 і записуємо їх у нашу змінну
some_file.getline(arr, 100);
some_file.close(); // Закриваємо файл
```

####  Запис у файл за допомогою класу `<ofstream>`

Цей клас надає можливості запису у файл. Відкрити файл  можна двома способами (аналогічно ранішевазаному класу `<ifstream>`): викликавши метод `open()` або вказавши шлях до нього у конструкторі.

Запис у файл відбувається за допомогою  оператора запису `<<`. Даний оператор записує рядок у **початок** файлу.

Приклад запису у файл:

```cpp
#include <iostream>
#include <fstream> // підключаємо бібліотеку
using namespace std;

int main()
{
ofstream file("cppstudio.txt"); // створюємо об'єкт класу ofstream та пов'язуємо з файлом
    file << "Работа с файлами в С++"; // запис рядка у початок файлу
    file.close(); // закрываем файл
    system("pause");
}  
```

#### Приклад
Нижче наведена програма виконує запис у файл та зчитування з нього.

```cpp
#include <iostream>
#include <fstream>

using namespace std;

int main() {
    ofstream file("examples.txt");

//-------Запис у файл--------

    if (file.is_open()) { //перевіряємо чи вдалося відкрити файл файл
        file << "Simple text"; // Записуємо текст у файл
        file.close(); // Завжди потрібно закривати файл
        } else // Якщо файл не вдається відкрити, тоді видаємо помилку
            cout << "Error!" << endl;
    }

//-------Зчитування з файлу-----------

     if (file.is_open()) { //перевіряємо чи вдалося відкрити файл файл
         char temp [100]; //змінна для збереження тексту з файлу
        ifstream some_file("test.txt"); // Відкриваємо файл для читання

        // зчитуємо лише перше слово і поміщаємо у змінну temp
        some_file >> temp;

        // Зчитуємо певну кількість символів – 100 і записуємо їх у  змінну
        some_file.getline(temp, 100);
        some_file.close(); // Закриваємо файл
        cout << temp << endl; // Відображаємо змінну temp

        } else // Якщо файл не вдається відкрити, тоді видаємо помилку
            cout << "Error!" << endl;
    }

   
}

```



## Хід роботи

## Контрольні запитання

## Довідники та додаткові матеріали

1. [Working with Files in C++](https://www.geeksforgeeks.org/working-with-files-in-c-c/)
2. [File Input/Output in C++](https://www.geeksforgeeks.org/file-handling-c-classes/) 
3. [C++ File Input/Output](https://www.w3schools.com/cpp/cpp_files.asp)
4. [File Input and Output in C++](https://www.programiz.com/cpp-programming/files-input-output)
5. [C++ File Input/Output Operations](https://www.javatpoint.com/cpp-file-input-output-operations)
6. [Робота з файлами в С++](https://prog-cpp.blogspot.com/2012/05/blog-post.html)
7. [Робота з файлами в C++](https://studassistent.com/cpp-file/)
8. [Робота з файлами в C++ (стандартна бібліотека)](https://smart-programmer.com.ua/c-file/)
9. [Робота з файлами в C++](https://tocode.ru/curses/cpp-files)
10. [Робота з файлами в C++](https://www.ukrprog.com.ua/kursy-c/20-c-files)

