<!DOCTYPE html>
<html>
<head>
	<title>Системне програмування. Лекція № 4</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>
	<div class="paper">
		<div id="colontitle">Системне програмування. Лекція № 4</div>
		<h1>МОВНІ КОНСТРУКЦІЇ С++</h1>
		<h2>Оператори вибору</h2>

		<p>
			До операторів вибору відносять оператор умовного переходу <strong>if</strong> та оператор-перемикач <strong>switch</strong>. Оператор умовного переходу <strong>if</strong> використовується для розгалуження процесу обчислень на два напрямки і має такий формат запису:
		</p>

		<pre>
			<strong>if (вираз) оператор 1;
				else
			оператор 2;,</strong>
		</pre>
		<p>
			де <strong>вираз</strong> — це вираз, який має логічне значення (<strong>true</strong> — «істина» або <strong>false</strong> — «неправда»).
		</p>

		<p>
			Реалізується оператор <strong>if</strong> таким чином: спочатку обчислюється вираз <strong>і</strong>, якщо значення виразу не дорівнює нулю («істина»), виконується <strong>оператор 1</strong>, в протилежному випадку —<strong>оператор 2</strong> і далі управління передається оператору, що є наступним з умовних операторів if, наприклад:</span>
		</p>

		<p>
			<strong>if ( i &lt; j ) і++;</strong>
			<strong> else</strong>
			<strong>{ j = i-3; i++; }</strong>
		</p>

		<p>
			У записі оператора <strong>if</strong> друга частина (тобто <strong>else</strong>) може бути відсутня і тоді, якщо вираз приймає значення «неправда», виконується зразу наступний оператор програми, що розташований за умовним. Таку конструкцію називають &#8220;пропуск оператора&#8221;.
			Коли у будь-якій гілці розгалуження необхідно виконати декiлька операторів, їх слід розташовувати у блоці, інакше компiлятор не зможе зрозуміти, де закінчується розгалуження. блок може включати різні оператори, у тому числі описи та інщi умовні оператори, але не може складатися з одних описів. Слiд ураховувати, що змінна, яка описана у такому блоці, за межами блока не існує. Синтаксис C++ припускає, що у випадку застосування вкладених умовних операторів кожне else відповідає найближчому до нього попередньому <strong>if</strong>. Наприклад:
		</p>

		<p>
			<strong>if (с &gt; d &amp;&amp; (с &gt; r || с = = 0)) d++; </strong>
			<strong>else</strong>
			<strong>{d /= с; с = 0 }</strong> — декілька умов слід об’єднати знаками логічних операцій, а сукупність операцій необхідно розмістити у блоці; обчислення найбільшого значення серед трьох змінних <strong>а, b, с</strong>:
		</p>
		<pre>
			if (а &gt; b)
			{ if (а &gt; с) max = а;
				else max = с; }
				else { if (b &gt; c) max = b;
				else max = c; }
			</pre> 
			<p>— у цьому фрагменті програми фігурні дужки можуть бути відсутні, тому що компілятор відносить частину <strong>else</strong> до найближчого <strong>if</strong>; <strong>if(p++) ps++;</strong> — вираз не використовує операцій відношення.
				<strong>Оператор-перемикач</strong> switch називають оператором множинного розгалуження. Він використовується для вибору одного а багатьох варіантів рішення і має таку форму запису:
			</p>

			<pre>
				switch (L)
				{
					case к.в.1: оператор 1; [break;]
					case к.в.2: оператор 2; [break;]
					..................................................
					case к.в.n: оператор n; [break;]
					[default: оператор n+1;]
				}
			</pre>
			<p>
				де <strong>switch, case, default</strong> — службові слова;
				<strong>break</strong> — оператор (необов’язковий) здійснює вихід з оператopa <strong>switch</strong>;
				<strong>L</strong> — будь-який вираз одного з цілих типів; <strong>к.в.1, &#8230;, к.в.n</strong> — константні вирази, які неможуть повтoрюватися і не можуть містити змінних чи викликів функцій; зазвичай, це ціла або символьна константа; <strong>оператор 1; &#8230; </strong> &#8211; будь-які оператори мови C++.
				У процесі виконання цього оператора спочатку обчислюється значення виразу <strong>L</strong>, потім це значення порівнюється (послідовно зверху донизу) зі значеннями константних виразів <strong>к.в.1, &#8230;, к.в.n.</strong> У випадку збігу значень <strong>L</strong> і одного з цих константних виразів та якщо наприкінці гілки розгалуження немає оператора <strong>break</strong>, виконуються всі оператори,починаючи з відповідної гілки. За наявності оператора <strong>break</strong> виконується тільки оператор,що знаходиться у відповідній гілці розгалуження, і керування передається оператору, який розташований за межами oпeратора <strong>switch</strong>. Якщо значення виразу <strong>L</strong> не збігається з жодним із значень константних виразів, то виконується гілка <strong>default</strong> і здійснюється вихід з оператора <strong>switch</strong>. У випадку, коли в операторі <strong>switch</strong> відсутня гілка <strong>default</strong> (вона необов&#8217;язкова) і значення <strong>L</strong> не збігається з жодним із значень константних виразів,відбувається вихід з оператора <strong>switch</strong>.
				Наведемо фрагмент програми з використанням оператора <strong>switch</strong>:
			</p>

			<pre>
				int а=2;
				switch (а)
				{
					case 1: func1( );
					case 2: func2( );
					case 0: …
					case 4: func3( );
					default: printf ("good bye \n");
				}
			</pre>
			<p>
				Тут оператор <strong>switch</strong> передбачає реалізацію функцій <strong>func2(), func3()</strong> і <strong>default: printf (&#8220;good bye \n”);.</strong>
				Фрагмент програми можна записати по-іншому:
			</p>

			<pre>
				int а=2;
				switch (а)
				{
					case 1: funcl( ); break;
					case 2: func2( ); break;
					case 0: ...
					case 4: func4( ); break;
					default: printf ("good bye \n");
				}
			</pre>
			<p>
				Оператор-перемикач приводить до виконання тільки гілки <strong>case 2: func2( ); break;</strong> після чого здійснюється вихід із <strong>switch</strong>.
			</p>



			<h2>Оператори циклу</h2>


			<p>
				Оператори циклу використовують для здійснення багаторазового повторення деякої послідовності дій. Кожен цикл складається з тіла циклу, тобто операторів, що виконуються декіль­ка разів. Один прохід циклу називається ітерацією. У мові C++ існують три оператори циклу: <strong>while, do while, for</strong>.
			</p>

			<p>
				<strong>Оператор циклу з передумовою while</strong> виконується, якщо умова перевіряється до початку циклу, і має вигляд:
			</p>

			<pre><strong>while (вираз-умова) оператор;</strong></pre>
			<p>
				де <strong>оператор</strong> — тіло циклу, що може бути представлено прос­тим  або складеним оператором.
			</p>

			<p>
				Реалізується оператор <strong>while</strong> таким чином: якщо значення <strong>виразу-умови</strong> не дорівнює нулю («істина»), то виконується тіло циклу, а в протилежному випадку, тобто коли значення виразу дорівнює нулю («неправда»), — цикл не працює і керування передається наступному за циклом <strong>while</strong> оператору. Цикл з пере­думовою може не виконуватися жодного разу.
			</p>

			<p>
				Як вираз-умова часто використовуються відношення. Наприклад, наступна послідовність операторів обчислює суму квадратів перших <strong>n</strong> натуральних чисел:
			</p>

			<pre>
				int і=0, sum=0;
				while (і &lt; n) sum += ++і * і;
			</pre>

			<p>
				Якщо у виразі-умові необхідно порівняти покажчик з ну­льовим  значенням (з порожнім покажчиком), то наступні запи­си оператора <strong>while</strong> рівнозначні:
			</p>

			<pre>
				while (point != NULL) . . .
				while (point) . . .
				while (point != 0) . . .
			</pre>

			<p>
				Оператор <strong>while</strong> зручно застосовувати у випадках, коли кількість ітерацій заздалегідь не відома.
			</p>

			<p>
				<strong>Оператор циклу з післяумовою do while</strong> звичайно застосовується у випадках, коли тіло циклу виконується хоча б один раз, і має таку форму запису:
			</p>

			<pre><strong>do оператор
			while (вираз-умова);</strong>
		</pre>
		<p>
			У процесі виконання оператора <strong>do whil</strong>e спочатку здійснюється вхід до тіла циклу і виконується оператор, що являє собою тіло циклу (цей оператор може бути простим або складеним); далі перевіряється вираз <strong>і</strong>, якщо він правдивий («істина»), — цикл повторюється, а коли вираз помилковий («неправда») — здійснюється вихід з циклу.
		</p>

		<p>
			<strong>Оператор циклу з параметром for</strong> має форму запису вигляд:
		</p>

		<pre>
			for ([вир1; вир2; вирЗ]) оператор;
		</pre>
		<p>
			де     <strong>вир1</strong> — вираз ініціювання, що використовується для встановлення початкового значення параметра, це вираз присвоювання;
			<strong>        вир2</strong> — вираз умови, що визначає умову повторення циклу;
			<strong>        вирЗ</strong> — вираз ітерації, який визначає крок зміни параметра, що керує циклом, після кожного виконання.
			Вирази <strong>вир1, вир2 та вирЗ</strong> — необов’язкові параметри, які розділяються символом <strong>«;»</strong>.
		</p>

		<p>
			Оператор циклу <strong>for</strong> реалізується таким чином:
		</p>

		<ul>
			<li>виконується вираз ініціювання (виконання цієї нотації може бути здійснено до оператора <strong>for</strong>);</li>
			<li>обчислюється вираз-умова;</li>
			<li>якщо умовний вираз приймає значення «істина» — виконуються оператори циклу;</li>
			<li>обчислюється вираз ітерації;</li>
			<li>знову перевіряється умова;</li>
			<li>як тільки умова прийме значення <strong>0</strong> («неправда»), керування передається оператору, що розташований за оператором циклу <strong>for</strong>.</li>
		</ul>
		<p>
			Оскільки в операторі <strong>for</strong> перевірка виразу-умови відбувається перед циклом, то у випадку помилкової умови цикл може жодного разу не виконуватися.
		</p>

		<p>
			Оператор <strong>for</strong> може використовувати декілька змінних, що керують циклом, а будь-які вирази можуть бути відсутніми, наприклад:
		</p>

		<pre>
			int n, у;
			for (int к = 0, n = 20; к &lt;= n; k++, n--) 
			y = k * n;
			або
			int = і;
			for (; і &lt; 4; i++)
			.....................
		</pre>
		<p>
			Останній фрагмент має два вирази ініціювання і два вирази ітерації. Спочатку відбувається присвоювання значень змінним <strong>k = 0 і n = 20</strong>, далі здійснюється порівняння <strong>k &lt;= n</strong> і, якщо ця умова має значення «істина», то буде виконуватися тіло циклу, а потім вираз<strong> k++ і n&#8211;</strong>, якщо ж умова не виконується, то цикл припиняє свою роботу.
		</p>

		<p>
			Операторам циклів с параметром <strong>for</strong> слід віддати перевагу при організації циклів з лічильниками.
		</p>

		<p>
			<strong>Приклад 5.1.</strong> Обчислити значення функції <strong>y = ax<sup>2</sup>-sinx</strong>, якщо <strong>а = 10.5; х є [-1; 2]; h<sub>x</sub> = 0,5</strong>. Скласти програми з використанням різних операторів циклу.
		</p>

		<p>
			Розглянемо перший варіант програми <strong>(див. Р5_1_1.СРР)</strong> з використанням оператора циклу з передумовою <strong>while</strong>:
		</p>

		<pre>
			// Р5_1_1.СРР — вычисление функции у = ах<sup>2</sup> - sinx
			//......... с использованием оператора цикла while
			#include &lt;iostream.h&gt;
			#include &lt;math.h&gt;
			#include &lt;conio.h&gt;
			main ( )
			{ float a = 10.5, x, y;
				x = -1 ;
				while (x &lt;= 2)
				{ у = a * pow(x,2) - sin(x);     // у = a* x* x- sin(x);
					cout &lt;&lt; "x=  " &lt;&lt; x &lt;&lt; "   y= " &lt;&lt; у &lt;&lt; endl;
					x += 0.5; }
					getch ();       //задержка экрана
				}
			</pre>
			<p>
				Другий варіант програми <strong>(див. Р5__1_2.СРР)</strong> із застосуванням оператора циклу з післяумовою <strong>do while</strong> має вигляд:
			</p>

			<pre>
				// Р5_1 _2.СРР — вычисление функции у = ах<sup>2</sup> - sinx
				//......... - использованием оператора цикла do while
				#include &lt;iostream.h&gt;
				#include &lt;math.h&gt;
				#include &lt;conio.h&gt;
				main ( )
				{ float a(10.5), x(-1), y;
					do
					{ у = a *pow(x,2) - sin(x);
						cout &lt;&lt; "х= " &lt;&lt; x &lt;&lt; " у= " &lt;&lt; у &lt;&lt; endl;
						x += 0.5; }
						while (x &lt;= 2);
						getch ();     //задержка экрана
					}
				</pre>
				<p>
					Третій варіант програмної реалізації <strong>(див. Р5_1_З.СРР)</strong> при кладу з використанням оператора циклу з параметром <strong>for</strong> мае такий вигляд:
				</p>

				<pre>
					// Р5_1_З.СРР — вычисление функции у = ах<sup>2</sup> - sinx
					//----- —с использование оператора цикла for
					#include &lt;iostream.h&gt;
					#include &lt;math.h&gt;
					#include &lt;conio.h&gt;
					main ( )
					{ float a = 10.5, x, y;
						for (x = -1; x &lt;= 2; x+= 0.5)
						{ у = a *pow(x,2) - sin(x);
							cout &lt;&lt; "x=  " &lt;&lt; x &lt;&lt; "   у= " &lt;&lt; у &lt;&lt; endl; }
							getch ();
						}
					</pre>
					<p>
						<strong>Приклад 5.2.</strong> Обчислити значення функції <strong>z</strong> при різних значенняx <strong>а і b</strong>, якщо <strong>х є [1; 4],h<sub>x</sub> = 0,5; у є [4; 12], h<sub>y</sub> = 2</strong>.
					</p>

					<p style="text-align: center;"><img title="" src="/uploads/posts/2015-12/1450625568_pr_5_2.png" alt="" />
					</p>

					<p>
						Розглянемо один з варіантів програмної реалізації цього прикладу, що відповідає алгоритму, зображеному на <strong>рис. 5.1</strong>.
					</p>

					<pre>// Р5_2. СРР — использование операторов do while и for
						#include &lt;iostream.h&gt;
						#include &lt;math.h&gt;
						#include &lt;conio.h&gt;
						main ( )
						{ float x, y, z;
							int a, b;
							сin &gt;&gt; a &gt;&gt; b;
							x=1;
							cout.precision(4);
							do { cout &lt;&lt; " x = " &lt;&lt; x &lt;&lt; endl;
							for (y = 4; у &lt;= 12;  у += 2)
							{ if( x &lt; 3) z = pow(a,x) + sqrt(x + y);
								else z = a*exp(x) + log(b + y);
								cout &lt;&lt; "у = " &lt;&lt;  у &lt;&lt; " z =   "  &lt;&lt; z &lt;&lt; endl; }
								x += 0.5;
							}
							while (х &lt;= 4);
							getch ();
						}
					</pre>
					<p>
						<a href="http://cpp.dp.ua/uploads/posts/2015-12/1450625606_5_2.png"><img loading="lazy" class="aligncenter size-medium" src="/uploads/posts/2015-12/1450625606_5_2.png" width="1326" height="1596" /></a>
						Функція <strong>z</strong>, згідно з умовою, залежить від двох аргумен­тів<strong> х і у</strong>, що змінюються. У цьому випадку спочатку фіксується значення однієї змінної (наприклад, <strong>х</strong>) і перебираються всі значення іншої (тобто <strong>у</strong>), потім береться друге значення першої змінної і знову перебираються всі значення іншої, і так доти, поки не будуть використані всі значення першої змінної.
					</p>

					<p>
						У програмі присутні два цикли: зовнішній цикл (<strong>do while</strong>), у якому змінює свої значення змінна <strong>х</strong>, і внутрішній (<strong>for</strong>), де перебираються всі значення змінної <strong>у</strong>. Обидва ці цикли можна було б організувати за допомогою яких завгодно операторів циклу.
					</p>

					<p>
						Процес розгалуження при обчисленні функції за першою або другою формулами здійснюється умовним оператором  <strong>if</strong>.
					</p>



					<h2>Оператори передачі керування</h2>

					<p>
						До операторів керування відносять оператор безумовного переходу <strong>goto</strong> та оператори виходу з циклу.
					</p>

					<p>
						Синтаксис <strong>оператора безумовного перехода goto</strong> має вигляд:
					</p>

					<pre><strong>goto мітка;</strong></pre>
					<p>
						де <strong>мітка</strong> — ім’я, після якого ставляться дві крапки, <strong>область діi мітки</strong> — функція, в якій вона визначена.
					</p>

					<p>
						Слід зауважити, що використання оператора безумовного переходу <strong>goto</strong> вважається негарним стилем програмування.
					</p>

					<p>
						Мова C++ передбачає такі засоби виходу з циклу:
					</p>

					<ul>
						<li><strong>оператор break</strong> приводить до виходу з циклу (або з операторів <strong>if</strong> та <strong>switch</strong>), у якому він міститься, і переходу до наступного оператора програми</li>
						<li><strong>оператор continue</strong> здійснює пропуск усіх операторів, що залишилися до кінця циклу, та реалізує перехід до початку наступної ітерації;</li>
						<li><strong>функція exit()</strong> реалізує вихід з циклу з завершенням програми. Аргумент цієї функції — константа цілого типу, що дорівнює <strong>0</strong> у випадку сприятливого завершення циклу і відмінна від <strong>0</strong> у протилежному випадку. При використанні цієї функцiї слід включити в код програми директиву <strong>#include &lt;stdlib.h&gt;</strong>.</li>
					</ul>


					<h2>Контрольні запитання</h2>
					<ol>




						<li>Які оператори реалізують розгалуження у програмі?</li>

						<li>Як діє умовний оператор if? Наведіть приклади.</li>

						<li>Як працює оператор-перемикач switch?</li>

						<li>Які оператори циклу використовуються у C++?</li>

						<li>Як працює оператор циклу for?</li>

						<li>Пояснити на прикладах використання циклу з передумовою і циклу з післяумовою.</li>

						<li>Які оператори керування застосовуються у мові C++?</li>


					</ol>
				</div>
			</body>
			</html>